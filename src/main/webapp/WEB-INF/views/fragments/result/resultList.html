<!DOCTYPE html>
<html>
<body>
	<div th:fragment="box (id, url, withProject)" class="box box-primary">
		<div class="box-body">
			<div class="dataTables_wrapper form-inline dt-bootstrap">
				<div class="row">
					<div class="col-sm-12">
						<table th:id="${id}" class="resultsTable" dt:table="true" dt:url="${url}" dt:displayLength="50" dt:filterable="false">
							<thead>
								<tr>
									<th th:if="${withProject}" dt:property="projectName" dt:searchable="false" dt:sortable="false" dt:renderFunction="Tremapp.resultsTableRenderProject" th:text="#{result.project}">Project</th>
									<th dt:property="name" dt:renderFunction="Tremapp.resultsTableRenderName" th:text="#{result.name}">Name</th>
									<th dt:property="status" dt:renderFunction="Tremapp.dataTables.impl.result.renderStatus" th:text="#{result.status}">Status</th>
									<th dt:property="severity" dt:renderFunction="Tremapp.dataTables.impl.result.renderSeverity" th:text="#{result.severity}">Severity</th>
									<th dt:property="startedAt" dt:sortInitDirection="desc" th:text="#{result.startedAt}">Started at</th>
									<th dt:property="length" dt:searchable="false" dt:sortable="false" th:text="#{result.length}">Length</th>
								</tr>
							</thead>
						</table>
						<script th:inline="javascript">
							Tremapp.resultsTableRenderName = function(name, type, result) {
								return name == null ? result.id : name;
								//return Tremapp.dataTables.renderLink('result/home/' + result.id, name);
							};
							Tremapp.resultsTableRenderProject = function(project, type, result) {
								return Tremapp.dataTables.renderLink('project/home/' + result.projectId, project);
							};
						</script>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>